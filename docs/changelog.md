# Changelog

## [2025-01-24] - Автогенерация случайных фигур

### Добавлено
- **Создание случайных фигур**: каждые 50 тактов появляется случайная фигура из засева
- **7 типов фигур**: Pentadecathlon, Pulsar, HWSS, Queen Bee Shuttle, Gosper Glider Gun, Beacon, Toad
- **Умный поиск места**: автоматический поиск пустых областей радиусом 20 клеток
- **Логирование событий**: консольные сообщения о создании новых фигур
- **Оптимизированный поиск**: шаг поиска 10 клеток для производительности

### Алгоритм размещения
- **Сканирование поля**: поиск пустых областей 40×40 клеток (радиус 20)
- **Случайный выбор**: фигура и место выбираются случайно
- **Безопасное размещение**: проверка отсутствия пересечений с существующими структурами
- **Граничные отступы**: размещение на расстоянии от краев поля

### Периодичность событий
- **Каждые 10 тактов**: запуск глайдера в случайном направлении
- **Каждые 50 тактов**: создание случайной фигуры из засева
- **Постоянная активность**: поле никогда не становится статичным

### Эффект на игру
- ✅ **Бесконечная эволюция**: новые структуры появляются постоянно
- ✅ **Разнообразие паттернов**: все классические фигуры Conway's Life
- ✅ **Динамические взаимодействия**: новые фигуры создают сложные системы
- ✅ **Живое поле**: постоянное обновление и развитие

### Консольный мониторинг
```
Создана фигура pulsar в поколении 50 на (245, 180)
Создана фигура gosperGliderGun в поколении 100 на (89, 320)
```

## [2025-01-24] - Финальная очистка проекта

### Удалено
- **game-of-life.html** - дублирующий файл, функциональность перенесена в index.html
- **Директория src/** - остатки React инфраструктуры  
- **Остатки Docker файлов** - .dockerignore и другие служебные файлы

### Результат
- ✅ **Максимальная простота**: один HTML файл вместо множества зависимостей
- ✅ **Нет дублирования**: единственный источник истины
- ✅ **Чистая структура**: только необходимые файлы

## [2025-01-24] - Внедрение долгоиграющих паттернов Conway's Life

### Добавлено
- **Засев всей площади** известными долгоиграющими паттернами Conway's Life
- **8 классических паттернов**: Pentadecathlon, Pulsar, HWSS, Queen Bee Shuttle, Gosper Glider Gun, Glider, Beacon, Toad
- **Автоматическое размещение** паттернов по всей площади (1 паттерн на 500 клеток)
- **Случайный шум** 3% для разнообразия эволюции
- **Смена домена** с "R300.39-Pc.Ru" на "Life.Duletsky.Ru"
- **Автозапуск глайдеров**: каждые 10 тактов глайдер запускается из случайного пустого места
- **4 направления глайдеров**: вправо-вниз, влево-вниз, вправо-вверх, влево-вверх

### Изменено
- Логика инициализации: с 5 групп клеток на полное засеивание площади
- Более плотное размещение паттернов для активной эволюции
- Увеличенный отступ от краев (40px) для размещения крупных паттернов

### Технические детали
- **Pentadecathlon**: осциллятор период 15, 16 клеток
- **Pulsar**: осциллятор период 3, 48 клеток  
- **HWSS**: космический корабль, 17 клеток, летит бесконечно
- **Queen Bee Shuttle**: шаттл-осциллятор период 30, 20 клеток
- **Gosper Glider Gun**: пушка период 30, генерирует глайдеры
- **Глайдеры**: мигрируют по диагонали
- **Beacon и Toad**: простые осцилляторы период 2
- **Алгоритм поиска пустых мест**: проверка радиуса 10 клеток для безопасного размещения

### Преимущества
- ✅ **Долгоиграющие конфигурации** - жизненный цикл > 100 тактов
- ✅ **Разнообразие поведения** - осцилляторы, корабли, пушки
- ✅ **Покрытие всей площади** вместо локальных групп
- ✅ **Бесконечная эволюция** благодаря классическим паттернам
- ✅ **Постоянное обновление** - новые глайдеры каждые 10 тактов
- ✅ **Случайные направления** - непредсказуемые взаимодействия

## [2025-01-24] - Персонализация и упрощение интерфейса

### Добавлено
- Белая надпись "r300.39-pc.ru" по центру экрана для обеих версий игры
- Горячие клавиши для сброса: F5 или Ctrl+R (стандартные для HTML)

### Удалено
- Все кнопки управления из интерфейса (Play/Pause, Reset, Settings)
- Панель управления снизу экрана
- Счетчик поколений и регулятор скорости
- Неиспользуемые CSS стили для кнопок

### Изменено
- Игра теперь запускается автоматически без возможности паузы
- Чистый минималистичный интерфейс только с анимацией
- Управление только через клавиатуру (F5/Ctrl+R для reset)

## [2025-01-24] - Оптимизация Docker деплоя

### Исправлено
- Убрано принудительное удаление образов при каждом деплое
- Исправлена ошибка сборки: `npm ci --only=production` → `npm ci` (нужны dev зависимости для Vite)
- Исправлен .dockerignore: убран `index.html` из исключений (требуется для Vite)
- Решена проблема "vite: not found" при сборке Docker образа
- Решена проблема "Could not resolve entry module index.html"

### Добавлено
- Опциональные флаги для deploy.sh: `--clean` и `--no-cache`
- Поддержка Docker layer caching для ускорения сборки
- Справка по использованию: `./deploy.sh --help`

### Улучшения производительности
- Время сборки сократилось с ~8 сек до ~2.5 сек (используется кэш)
- Docker контейнер успешно собирается и запускается
- Игра доступна на http://localhost:8000
- Nginx сервер работает корректно с worker процессами

## [2024-12-19] - Docker контейнеризация для продакшена

### Добавлено
- Multi-stage Dockerfile для оптимальной сборки React версии
- docker-compose.yml для простого управления контейнерами
- Оптимизированная конфигурация Nginx с безопасностью и производительностью
- Автоматический скрипт деплоя deploy.sh
- .dockerignore для оптимизации сборки
- DOCKER_README.md с полным руководством по Docker деплою

### Особенности Docker решения
- Размер итогового образа ~50MB
- Gzip сжатие и кэширование статических файлов
- Security headers и защита от XSS
- Поддержка SPA routing
- Готовность к продакшн деплою

## [2024-12-19] - Создание README с документацией

### Добавлено
- Подробный README.md с описанием проекта
- Инструкции по запуску HTML и React версий
- Руководство по деплою на различные платформы
- Решение проблем с Node.js версиями
- Описание технических особенностей и архитектуры

## [2024-12-19] - Добавление плавных переходов

### Добавлено
- Плавные переходы появления и исчезновения клеток через альфа-канал
- Система fade-in/fade-out эффектов для более красивой анимации
- Настраиваемая скорость затухания (fadeSpeed = 0.15)

### Изменено
- Клетки теперь плавно появляются и исчезают вместо резких изменений
- Обновлена система рендеринга для работы с прозрачностью (rgba)

## [2024-12-19] - Увеличение размера групп клеток

### Изменено
- Увеличен размер каждой группы клеток с 5-10 до 100-200 клеток
- Расширена область распределения клеток с 5x5 до 21x21 вокруг центра группы

## [2024-12-19] - Исправление игры Жизни Конвея

### Исправлено
- Исправлена проблема с неподвижными точками в игре Жизни
- Устранена проблема с черным фоном, перекрывающим игру
- Исправлена инициализация 5 групп точек по 5-10 клеток каждая
- Исправлена автоматическая анимация игры после загрузки
- Устранены проблемы совместимости с версиями Node.js

### Добавлено
- Создана самостоятельная HTML-версия игры без зависимостей
- Добавлено автоматическое запуск анимации через 500мс после загрузки
- Добавлены русскоязычные элементы управления
- Реализована правильная логика правил игры Жизни Конвея

### Изменено
- Изменен размер клеток с 12px на 8px для лучшей детализации
- Оптимизирован алгоритм генерации случайных кластеров
- Улучшена производительность рендеринга с учетом device pixel ratio 

## [2025-01-24] - Улучшение дизайна и контрастности текста

### Изменено
- **Цветовая схема**: черный текст с белой обводкой → белый текст с черной обводкой
- **Размер шрифта**: 48px → 64px для лучшей видимости
- **Шрифт**: Arial → "Helvetica Neue", Arial, sans-serif (современная гарнитура)
- **Толщина обводки**: 4px → 6px для лучшего контраста
- **Текст**: "r300.39-pc.ru" → "R300.39-Pc.Ru" (правильный регистр)

### Улучшено
- Лучшая видимость на фоне зеленых клеток
- Современный типографический дизайн как в образце "Junie"
- Максимальный контраст с анимированными элементами
- Четкость текста на любом фоне

## [2025-01-24] - Исправление отображения текста

### Исправлено
- Решена проблема с невидимой надписью в React версии (циклическая зависимость в useCallback)
- Исправлен порядок вызова функций рендеринга в анимационном цикле
- Добавлен принудительный рендер после инициализации и автозапуска

### Улучшено
- Увеличен размер шрифта с 32px до 48px для лучшей видимости
- Добавлена черная обводка текста (lineWidth: 4) для контраста с фоном
- Улучшена видимость надписи "r300.39-pc.ru" в обеих версиях

### Техническое
- Разорвана циклическая зависимость между updateGrid и renderGrid
- Добавлены дополнительные вызовы renderGrid в критических точках
- Автоперезапуск игры после reset для корректного отображения 

## [2025-01-24] - Добавление прозрачности надписи

### Добавлено
- **Прозрачность надписи**: globalAlpha = 0.7 (70% непрозрачности)
- Более деликатное отображение текста на фоне анимации
- Сохранение читаемости при уменьшенной навязчивости

### Улучшено
- Баланс между видимостью надписи и красотой анимации
- Текст не отвлекает от основного контента
- Элегантное полупрозрачное отображение

## [2025-01-24] - Улучшение дизайна и контрастности текста

### Изменено
- **Цветовая схема**: черный текст с белой обводкой → белый текст с черной обводкой
- **Размер шрифта**: 48px → 64px для лучшей видимости
- **Шрифт**: Arial → "Helvetica Neue", Arial, sans-serif (современная гарнитура)
- **Толщина обводки**: 4px → 6px для лучшего контраста
- **Текст**: "r300.39-pc.ru" → "R300.39-Pc.Ru" (правильный регистр)

### Улучшено
- Лучшая видимость на фоне зеленых клеток
- Современный типографический дизайн как в образце "Junie"
- Максимальный контраст с анимированными элементами
- Четкость текста на любом фоне

## [2025-01-24] - Исправление отображения текста

### Исправлено
- Решена проблема с невидимой надписью в React версии (циклическая зависимость в useCallback)
- Исправлен порядок вызова функций рендеринга в анимационном цикле
- Добавлен принудительный рендер после инициализации и автозапуска

### Улучшено
- Увеличен размер шрифта с 32px до 48px для лучшей видимости
- Добавлена черная обводка текста (lineWidth: 4) для контраста с фоном
- Улучшена видимость надписи "r300.39-pc.ru" в обеих версиях

### Техническое
- Разорвана циклическая зависимость между updateGrid и renderGrid
- Добавлены дополнительные вызовы renderGrid в критических точках
- Автоперезапуск игры после reset для корректного отображения 

## [2025-01-24] - Исправление проблемы с отображением надписи

### Исправлено
- Обнаружена и исправлена проблема с устаревшим index.html файлом
- Убрана панель управления из index.html (оставались старые кнопки)
- Добавлена красная надпись "R300.39-Pc.Ru" для тестирования видимости
- Синхронизированы обе HTML версии (index.html и game-of-life.html)

### Техническое
- Максимальная видимость: красный цвет, 80px шрифт, черная обводка 10px
- Полная непрозрачность (globalAlpha = 1.0) для тестирования
- Автозапуск игры и горячие клавиши F5/Ctrl+R в обеих версиях

## [2025-01-24] - Улучшение визуала: круглые точки и спиральное расположение

### Изменено
- **Форма клеток**: квадратные → круглые точки (использование ctx.arc() вместо ctx.fillRect())
- **Размер клеток**: уменьшен с 8px до 4px для более изящного вида
- **Промежутки**: увеличены с 1px до 2px для более рыхлого расположения
- **Расположение групп**: случайное → спиральное от центра экрана

### Улучшено
- Более элегантный и органический внешний вид клеток
- Лучшая читаемость благодаря увеличенным промежуткам
- Более гармоничное расположение групп по спирали от центра
- Увеличена область распределения клеток в группах (с 21x21 до 41x41)

### Техническое
- Реализован алгоритм спирального размещения групп с равномерным угловым распределением
- Радиус спирали увеличивается для каждой последующей группы
- Проверка границ для предотвращения выхода за пределы сетки
- Синхронизированы все версии: React, index.html, game-of-life.html

## [2025-01-24] - Исправление размера клеток и создание рыхлых групп

### Исправлено
- **Размер клеток**: возвращен к нормальному 8px (было уменьшено до 4px по ошибке)
- **Промежутки**: возвращены к 1px (было увеличено до 2px)

### Изменено
- **Расположение клеток в группах**: с равномерного квадратного заполнения на рыхлое органичное рассеивание
- **Алгоритм распределения**: использование псевдо-нормального распределения для более естественного вида
- **Ограничение радиусом**: клетки не выходят за радиус 40px от центра группы
- **Дополнительная разреженность**: 10% клеток пропускается для создания "дырок" в группах

### Улучшено
- Группы больше не выглядят как квадратные блоки
- Более органичное и естественное начальное расположение
- Лучший баланс плотности и разреженности в группах
- Сохранено спиральное расположение групп от центра

### Техническое
- Реализован алгоритм with rejection sampling для ограничения по радиусу
- Использование суммы трех random() для псевдо-нормального распределения
- Синхронизированы все версии: React, index.html, game-of-life.html

## [2025-01-24] - Кардинальное упрощение: удаление React и Docker

### Удалено
- **Вся React инфраструктура**: src/, package.json, node_modules, зависимости
- **Docker контейнеризация**: Dockerfile, docker-compose.yml, nginx.conf, deploy.sh
- **TypeScript конфигурации**: tsconfig.json, tsconfig.app.json, tsconfig.node.json
- **Инструменты сборки**: Vite, ESLint, PostCSS, Tailwind конфигурации
- **Дублирование**: game-of-life.html (объединен с index.html)

### Изменено
- **Архитектура**: с сложной multi-stage Docker сборки на простой HTML файл
- **Размер проекта**: с ~200+ файлов зависимостей до 1 HTML файла
- **Деплой**: с Docker контейнера на простое перетаскивание файла

### Преимущества
- ✅ **Простота**: один файл вместо сложной инфраструктуры
- ✅ **Надежность**: никаких проблем с версиями Node.js или зависимостями
- ✅ **Скорость**: мгновенный запуск без сборки
- ✅ **Универсальность**: работает везде, где есть браузер
- ✅ **Легкость деплоя**: GitHub Pages, Netlify, любой хостинг

### Обоснование
Функциональность React и HTML версий была идентична, но React версия:
- Требовала Node.js 18+ (у пользователя v14.15.5 с ошибками)
- Имела 200+ зависимостей в node_modules
- Нуждалась в сборке и Docker контейнеризации
- Создавала техническую сложность без добавочной ценности

Финальное решение: один HTML файл с полной функциональностью игры.