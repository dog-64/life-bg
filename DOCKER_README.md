# üê≥ Docker –¥–µ–ø–ª–æ–π Conway's Game of Life

–ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ—è React-–≤–µ—Ä—Å–∏–∏ –∏–≥—Ä—ã –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker 20.0+
- Docker Compose 2.0+

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

```bash
# –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./deploy.sh

# –î–µ–ø–ª–æ–π —Å –æ—á–∏—Å—Ç–∫–æ–π —Å—Ç–∞—Ä—ã—Ö –æ–±—Ä–∞–∑–æ–≤
./deploy.sh --clean

# –î–µ–ø–ª–æ–π –±–µ–∑ –∫—ç—à–∞ Docker (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —á–∏—â–µ)
./deploy.sh --no-cache

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
./deploy.sh --clean --no-cache

# –°–ø—Ä–∞–≤–∫–∞ –ø–æ –æ–ø—Ü–∏—è–º
./deploy.sh --help
```

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

```bash
# 1. –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker-compose build

# 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose up -d

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

## üìã –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
**http://localhost:8000**

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose stop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –ü–æ–ª–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
docker-compose down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
docker-compose build --no-cache
docker-compose up -d
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats conway-game-of-life

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f --tail=100
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–æ—Ä—Ç—ã

- **8000** - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `docker-compose.yml`:

```yaml
ports:
  - "9000:80"  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –Ω—É–∂–Ω—ã–π –ø–æ—Ä—Ç
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `docker-compose.yml`:

```yaml
environment:
  - NODE_ENV=production
  - REACT_APP_CUSTOM_VAR=value
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### Multi-stage —Å–±–æ—Ä–∫–∞

1. **–≠—Ç–∞–ø 1 (builder)**: Node.js 18 Alpine
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –°–±–æ—Ä–∫–∞ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–≠—Ç–∞–ø 2 (production)**: Nginx Alpine
   - –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚úÖ Gzip —Å–∂–∞—Ç–∏–µ
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (1 –≥–æ–¥)
- ‚úÖ Security headers
- ‚úÖ SPA routing –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞ (~50MB)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

- `X-Frame-Options: SAMEORIGIN`
- `X-Content-Type-Options: nosniff`
- `X-XSS-Protection: 1; mode=block`
- `Content-Security-Policy`

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

1. **–ò–∑–º–µ–Ω–∏—Ç—å –¥–æ–º–µ–Ω** –≤ nginx.conf:
   ```nginx
   server_name –≤–∞—à-–¥–æ–º–µ–Ω.com;
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å SSL/TLS**:
   ```yaml
   # docker-compose.yml
   ports:
     - "443:443"
   volumes:
     - ./ssl:/etc/nginx/ssl
   ```

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å reverse proxy** (Traefik, Nginx Proxy Manager)

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–∞–∑–º–µ—Ä—ã

- **–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥**: ~2MB
- **node_modules**: ~200MB (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–±–æ—Ä–∫–∏)
- **–ò—Ç–æ–≥–æ–≤—ã–π –æ–±—Ä–∞–∑**: ~50MB
- **–°–∂–∞—Ç—ã–π JS/CSS**: ~500KB

### –ú–µ—Ç—Ä–∏–∫–∏

- **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**: ~2-3 –º–∏–Ω—É—Ç—ã
- **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞**: ~5 —Å–µ–∫—É–Ω–¥
- **–ü–∞–º—è—Ç—å**: ~20MB RAM
- **CPU**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–∑—ã
docker images

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
docker-compose build --no-cache
```

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3000
lsof -i :3000

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ docker-compose.yml
ports:
  - "8080:80"
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å–µ—Ç—å
docker-compose down
docker network prune
docker-compose up -d
```

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### VPS/Dedicated —Å–µ—Ä–≤–µ—Ä

```bash
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -r . user@server:/path/to/app/

# 2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@server

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å
cd /path/to/app/
./deploy.sh
```

### Docker Swarm

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Swarm
docker swarm init

# –î–µ–ø–ª–æ–π –∫–∞–∫ —Å–µ—Ä–≤–∏—Å
docker stack deploy -c docker-compose.yml conway
```

### Kubernetes

–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ K8s –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å kompose
curl -L https://github.com/kubernetes/kompose/releases/latest/download/kompose-linux-amd64 -o kompose

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
kompose convert
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Prometheus –º–µ—Ç—Ä–∏–∫–∏

–î–æ–±–∞–≤–∏—Ç—å –≤ `docker-compose.yml`:

```yaml
services:
  nginx-exporter:
    image: nginx/nginx-prometheus-exporter
    ports:
      - "9113:9113"
    command:
      - -nginx.scrape-uri=http://conway-game-of-life/nginx_status
```

### Health check

```yaml
# –í docker-compose.yml
healthcheck:
  test: ["CMD", "curl", "-f", "http://localhost/"]
  interval: 30s
  timeout: 10s
  retries: 3
```

---

**üéÆ –ì–æ—Ç–æ–≤–æ! –í–∞—à–∞ –∏–≥—Ä–∞ –ñ–∏–∑–Ω–∏ –ö–æ–Ω–≤–µ—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å Docker! üê≥** 